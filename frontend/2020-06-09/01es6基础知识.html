<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
    /*
    * es6常用的有哪些
    *   let,const,模板字符串
    *   解构赋值
    *   数组,对象新增加的方法
    *   Set,Map,Proxy,
    *   promise,await async
    *   class等等
    *
    * */


</script>
<script>
    /*
    * 解构赋值主要针对于数组和对象的: 真实项目中,一般常用于吧从服务器获取的JSON数据进行快速解构,赋值给对应的变量,帮助我们快速拿到对应的结构
    * */

    // 数组的结构赋值
    /*
        let arr = [10,20,30,40];
        let [a,b,c,d] = arr;
        //=> 等价于 a = arr[0] b = arr[1]; c= arr[2]; d = arr[3];
        let [a,,,d] = arr;  // 拿到第一个值和最后一个值
        let [a,...b] = arr; //=>b=[20,30,40];

        let arr = [10]
        let [a,b=0] = [10]  // 赋值默认值
    */


    //
    /*
    * 让a,b互相转化值
     let a = 10,b = 20;
         // 第一种方案
         let c = a;
         a = b;
         b = c;

         // 第二种方案
         let a = a+b;
         b = a - b;
         a = a - b;

         // 第三种方案
         [b,a] = [a,b]


    * */
</script>
<script>
    // 对象的解构赋值 - 创建的变量名需要跟属性名保持一致
    let obj = {
        id : 1,
        name: 'skl',
        age: 25
    };
    let age = 0;
    let {
        id,
        name,
        age1: age,  // 设置别名
        sex = 0
    } = obj;
    console.log(id,name,age1,sex)
</script>
<script>
    let data = [{
        id: 1,
        name: '哈哈1'
    },{
        id: 2,
        name: '哈哈2'
    },null];
    data.map((item,index)=>{
        let { id, name} = item || {};
    })
    data.map(({id,name} = {},index)=>{
       console.log(id,name)
    })

    let obj = {a:1,b:2};
    let obj1 = {...obj};        // 等价于 => Object.assign({},obj)

</script>
<script>
    /*
    * ...运算符
    *   一: 扩展运算符  let [...arr] = [10,20,30,40]   把参数集合起来 arr = [10,20,30,40];
    *   二: 剩余运算符 函数的形参赋值上
    *       let fn = (n,...m)=>{
    *           // 箭头函数中没有arguments   使用...把剩下来的集合起来
    *           console.log(n,m)       n = 10 m = [20,30,40]
    *       };
    *       fn(10,20,30,40);
    *   三: 展开运算符 展开数组或者对象的每一项
    *       let arr1 = [10,20,30,40];
    *       let arr2 = [...arr1];
    *
    *       fn.call(obj,...arr1);
    *       fn.apply(obj,arr1);
    * */
</script>
<script>
    Array.from()                // 把一个类数组/set集合转化为数组
    Array.of();                 // 把一组值转化为数组
    Array.isArray()             // 验证是否为一个数组

    new Array(3).fill(null);    // 创建集合长度为3,每一项都填充为null.
    includes();                 // 包含
    flat()                      // 数组扁平化
    find / findIndex            // 数组的遍历
    forEach / map / reduce / some / every / filter /

    // 验证空位
    0 in [undefined,undefined,undefined]    // true
    0 in [,,,]
</script>
<script>
    // 对象的扩展
    let name = '11';
    obj = {name};
    obj = {name:name};



    /*
     for...in循环：只遍历对象自身的和继承的可枚举的属性。
     Object.keys()：返回对象自身的所有可枚举的属性的键名。
     JSON.stringify()：只串行化对象自身的可枚举的属性。
     Object.assign()： 忽略enumerable为false的属性，只拷贝对象自身的可枚举的属性。
    * */


    /*
    *
    * ES6 一共有 5 种方法可以遍历对象的属性。

     （1）for...in

     for...in循环遍历对象自身的和继承的可枚举属性（不含 Symbol 属性）。

     （2）Object.keys(obj)

     Object.keys返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含 Symbol 属性）的键名。

     （3）Object.getOwnPropertyNames(obj)

     Object.getOwnPropertyNames返回一个数组，包含对象自身的所有属性（不含 Symbol 属性，但是包括不可枚举属性）的键名。

     （4）Object.getOwnPropertySymbols(obj)

     Object.getOwnPropertySymbols返回一个数组，包含对象自身的所有 Symbol 属性的键名。

     （5）Reflect.ownKeys(obj)

     Reflect.ownKeys返回一个数组，包含对象自身的（不含继承的）所有键名，不管键名是 Symbol 或字符串，也不管是否可枚举。
    * */


    Object.freeze()         // 冻结一个对象,相当于创建了一个CONST的值.(常量)
    Object.is([obj],[obj]); // 相当于==和===,把==和===更精确
</script>
<script>
    /* 数组去重
        - 对象键值对
        - 双循环
        - ...
        - Set数据结构的每一项的唯一值
     */
    // Set
    arr = [...new Set(1,2,3,4,1,3,4,5)];
    arr = Array.from(new Set(1,2,3,4,51,2,1));

    // Map

    // 原对象
    let n = {n:10}
    let obj = { id : 1};
    obj[n] = 10;

    // Map对象: 支持属性名数对象
    let obj1 = new Map();
    obj.set(n,10);
    obj.get(n,10);



</script>
<script>
    Iterator
    let arr = [1,2,3,4,5];
    for(let key of arr){
        cnsole.log(key);
    }

</script>
</body>
</html>